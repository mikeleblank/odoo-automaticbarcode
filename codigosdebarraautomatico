ğŸ“˜ Manual Completo â€“ GeneraciÃ³n AutomÃ¡tica de CÃ³digos de Barra en Odoo
ğŸ·ï¸ VersiÃ³n profesional optimizada para GitHub
ğŸ“ DescripciÃ³n general

Este documento explica cÃ³mo configurar Odoo para generar automÃ¡ticamente cÃ³digos de barras secuenciales (Code128) al crear o actualizar productos sin cÃ³digo.

Ideal para comercios, depÃ³sitos, logÃ­stica, ferreterÃ­as, bazares y cualquier operaciÃ³n que requiera etiquetar productos que llegan sin cÃ³digo.


ğŸ”§ 1. Activar Modo Desarrollador

Para acceder al menÃº donde se crean secuencias, primero activamos el modo desarrollador.

ğŸ“ Pasos:

Ir a Ajustes.

Desplazarse hasta el final.

Hacer clic en â€œActivar modo desarrolladorâ€.

Si el botÃ³n no aparece:

ğŸ“Œ MÃ©todo alternativo: agregar ?debug=1 al final de la URL

https://tuodoo.com/web?debug=1


Ahora deberÃ­as ver el menÃº:

Ajustes â†’ TÃ©cnico

ğŸ”¢ 2. Crear la Secuencia de CÃ³digos de Barra
ğŸ“ Pasos:

Ir a Ajustes â†’ TÃ©cnico â†’ Secuencias & Identificadores â†’ Secuencias

Clic en Crear

ğŸ“„ Completar los campos asÃ­:
Campo	Valor recomendado
Nombre	Secuencia CÃ³digo de Barras
CÃ³digo tÃ©cnico	product.barcode.sequence
Prefijo	P (opcional)
Relleno	6
PrÃ³ximo nÃºmero	1
Incremento	1
ğŸ” Ejemplo de secuencia generada:
P000001
P000002
P000003
...


ğŸ’¾ Guardar la secuencia.

ğŸ› ï¸ 3. Crear la AutomatizaciÃ³n en Odoo Studio

Esta automatizaciÃ³n llenarÃ¡ automÃ¡ticamente el campo barcode cuando estÃ© vacÃ­o.

ğŸ“ Pasos:

Ir a Inventario â†’ Productos

Abrir cualquier producto

Hacer clic en Odoo Studio (icono de herramientas)

En el menÃº lateral derecho, ir a Automatizaciones

Clic en Crear

âš™ 4. Configurar CondiciÃ³n y AcciÃ³n
ğŸ·ï¸ 4.1 Encabezado
Campo	Valor
Nombre	Generar cÃ³digo de barras automÃ¡tico
Modelo	product.template
ğŸ”” 4.2 Disparadores

Activar:

âœ” Al crear

âœ” Al actualizar

Esto asegura que el sistema complete productos nuevos y productos existentes sin cÃ³digo.

ğŸ§  4.3 CondiciÃ³n

Ingresar este dominio:

[('barcode', '=', False)]


ğŸ‘‰ El sistema solo actuarÃ¡ si barcode estÃ¡ vacÃ­o.
No sobrescribe cÃ³digos existentes.

ğŸ§© 5. CÃ³digo Python Seguro para Odoo Online/Enterprise

En AcciÃ³n â†’ Ejecutar cÃ³digo, pegar:

for rec in records:
    if not rec.barcode:
        sequence = env['ir.sequence'].next_by_code('product.barcode.sequence')
        rec.write({'barcode': sequence})

âœ” Compatible con:

Odoo Online

Odoo Enterprise Cloud

Odoo On-Premise

Odoo con restricciones de seguridad (evita STORE_ATTR)

ğŸ’¡ Â¿QuÃ© hace este cÃ³digo?

Verifica si el producto no tiene cÃ³digo

Pide a la secuencia un nÃºmero nuevo

Lo escribe correctamente usando write()

Evita errores de permisos en Odoo Cloud

ğŸ§ª 6. Prueba del Funcionamiento
âœ” Probar creaciÃ³n automÃ¡tica:

Crear un nuevo producto

NO completar el campo CÃ³digo de barras

Guardar

Resultado esperado:

P000001

âœ” Probar segundo producto:
P000002

âœ” Probar con producto existente sin cÃ³digo:

Abrir â†’ Guardar â†’ se genera cÃ³digo
